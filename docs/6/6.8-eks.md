# EKS

In this section we'll be exploring the functionality and use of Amazon's Elastic Container Service for Kubernetes (EKS). Similar to ECS, EKS allows users to manage containers distributed amongst various AWS instances. However, where ECS is an amazon specific container orchestration tool, EKS utilizes the popular container management platform Kubernetes to manage containers on AWS.

> Amazon Elastic Container Service for Kubernetes (Amazon EKS) is a managed service that makes it easy for you to run Kubernetes on AWS without needing to stand up or maintain your own Kubernetes control plane. Kubernetes is an open-source system for automating the deployment, scaling, and management of containerized applications. [Amazon EKS](https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html)

Although AWS provides ECS as a container management tool, the popularity of Kubernetes spurred the creation of EKS. Before EKS, Kubernetes was commonly used in conjunction with AWS resources, so amazon created EKS to make the integration between Kubernetes and AWS seamless. EKS runs the Kubernetes management infrastructure behind the scenes so that the user only has to worry about adding worker nodes to their cluster. Both native kubernetes and EKS both use kubectl as a tool to interact with clusters, so experienced users of Kubernetes will find it easy to transition to EKS.

If you are still having a difficult time understanding what Kubernetes is that is OK. Kubernetes is complicated and we are not going to try to explain all of it in this section.

## Intro to Kubernetes

Provide some insight into the basics of Kubernetes networking and the control plane.

## Exercise 1

In the previous section we launch the SockShop demo on an ECS cluster to demonstrate deploying a microservice application. This exercise will have you ddeploy SockShop on EKS so you can explore the differences between the two services.

1. Create IAM roles to allow AWS to manage EKS services
  - You will need a role to allow EKS to manage clusters
  - You will need another role to allow EC2 instances to call EKS services(will need to refer to cloudformation script from AWS tutorial)
2. Install the `aws-iam-authenticator` following these [instructions](https://docs.aws.amazon.com/eks/latest/userguide/install-aws-iam-authenticator.html)
3. Create an EKS cluster
4. Connect your `kubectl` tool to your cluster
5. Create a Launch Configuration and Autoscaling group to launch Kubernetes EC2 images.
6. Connect your EC2 instances to your cluster
7. Launch SockShop application on your cluster using the `complete-demo.yaml` in the [microservice-demo](https://github.com/liatrio/microservices-demo) repo.
## Deliverables

- Discuss the differences between ECS and EKS
- Explain how the containers communicate across EC2 instances
- Describe the enterprise use case for services like EKS
