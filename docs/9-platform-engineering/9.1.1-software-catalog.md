---
docs/9-platform-engineering/9.1.1-software-catalog.md:
  category: Backstage Software Catalog
  estReadingMinutes: 20
  exercises:
    - name: Entity Registration
      description: |
        This exercise instructs students to register an entity to their local Backstage instance.  The entity should correspond to a repo belonging to a GitHub organization that the student owns.  This exercise will require students to configure their Backstage instance to have the permissions needed to access their GitHub organization and will help pave the way for the following exercise.
      estMinutes: 20
      technologies:
        - Backstage
        - GitHub
        
    - name: Catalog Ingestion
      description: |
        Students will configure their Backstage instance to automatically perform read operations on a given GitHub organization and ingest `catalog-info.yaml` files existing in that organization in order to automatically register entities.  They will need to configure GitHub as a catalog and ensure that their Backstage instance combs their organization for the correct file(s) at an appropriate interval.
      estMinutes: 80
      technologies:
        - Backstage
        - GitHub

    - name: Dependency Graphs
      description: |
        Students will fork two interdependent repos to their organization and ensure that their Backstage instance recognizes the two repos while also displaying the repos' interdependence via the "Relations" section of their overviews in the UI.  This requires a thorough understanding of the available fields in `catalog-info.yaml` files along with a Backstage app's configuration file.  
      estMinutes: 120
      technologies:
        - Backstage
        - GitHub

    - name: OpenAPI Definitions
      description: |
        Here, students are required to provide an OpenAPI specification which their Backstage instance can ingest and associate with a definition for an API having source code in a repo owned by the student's organization.  Students may use a repo that already has an Open API spec file or they may generate the necessary spec data from an API.  
      estMinutes: 30
      technologies:
        - Backstage
        - GitHub
---

# Backstage Software Catalog

EXPLAIN THE SIGNIFICANCE OF THE SOFTWARE CATALOG -- PURPOSE, ETC...

## Backstage's Design

Backstage is a monorepo React application that is written in TypeScript. Backstage is constructed out of three parts.

![Parts of backstage](https://backstage-spotify-com.spotifycdn.com/_next/static/media/IMG_key_terms.72c69cd1.png ':class=img-center :alt=parts of backstage')

**Core:** This is the base functionality that is developed and maintained by the Open Source team

**App:** This is the instance of the app that is deployed and customized for the users needs. The app is the part that is generally maintained by a Platform team

**Plugins:** Plugins are the primary method of customization for a Backstage instance. These can be community sourced or internally developed and extend the functionality of the Backstage app

The Core componenets of a Backstage app are: Web componenet which is what the user interfaces with, a Backend service which powers the plugins of Backstage and the Database layer. These pieces make up the core componenets of Backstage.

![Backstage core component architecture](https://backstage-spotify-com.spotifycdn.com/_next/static/media/IMG_container.6247c7ba.png)

## Key Features

Backstage comes with a few key features (really just plugins), they are the following:

**Software Catalog:** The Software Catalog is a comprehensive inventory system within Backstage that tracks ownership, metadata, and relationships of all software components across an organization, facilitating easier discovery and management of services, libraries, and more.

**Tech Docs:** Tech Docs in Backstage serve as an integrated knowledge hub, where teams can create, store, and access technical documentation alongside their code, enabling seamless collaboration and information sharing across the organization.

**Software Templates:** Software Templates in Backstage provide standardized scaffolding for creating new projects, ensuring that all new software adheres to organizational best practices and standards, thereby streamlining the development process and fostering consistency.

**Plugins:** Plugins are modular extensions within Backstage that enhance its functionality, allowing teams to customize and integrate additional features and services, such as CI/CD, monitoring, and cloud services, tailored to their specific workflow needs.

### Exercise 1: Create a GitHub Organization

Backstage integrates heavily with SCM software as it is designed to 'single pane of glass' into an organizations development ecosystem. So to mimic that we will need
a GitHub org to play around with. Each person going through the bootcamp will need their own GitHub Organization

1. Follow [GitHubs docs](https://docs.github.com/en/organizations/collaborating-with-groups-in-organizations/creating-a-new-organization-from-scratch) and create a new Organization (Free)

### Exercise 2: Stand up local instance of Backstage

1. Follow Backstage's official [Getting Started](https://backstage.spotify.com/learn/standing-up-backstage/standing-up-backstage/1-intro/) guide
> Skip setting up the PostgresSQL instance
2. Start your local instance of Backstage and get familiar with the UI
3. Customize the look and feel of you backstage instance
    - Change the logo
    - Change the application name
    - Deep Dive: Apply a custom theme
4. Push your instance of Backstage to a repo in your new GitHub Organization

### Exercise 3: Configure Authentication via GitHub

Currently your backstage instance is not authenticating the user. You are an anonymous guest. Given that an IDP will have access to all the engineering resources in an organization and have access to self-service resources we need to add authentication. Backstage's authentication system servers a couple of purposes. First it is there for sign-in functionality and to authenticate the user. Additionally it can be used to grant access to third-party resources. Typically you will use one authentication provider for sign-in functionality and other authentication providers will be used to grant access to third-party resources.

1. Configure Backstage to authenticate with GitHub
> Do not store secrets in plain text that will be pushed to your remote repo!
2. Add GitHub Authentication to the Sign-In page
3. Verify that you can login via GitHub

## Deliverables

By completing these exercises, participants will:

- Gain hands-on experience setting up and navigating Spotify's Backstage.
- What did Backstage need in order to leverage the build in sign-in resolver for GitHub?
- Discuss pros and cons of using an orgs developer platform (GitHub/GitLab) as the Sign-In authentication method for their IDP (Backstage)
